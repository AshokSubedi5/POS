function FormatForDisplay(n){let t=new Date(n);return("0"+(t.getMonth()+1)).slice(-2)+"/"+("0"+t.getDate()).slice(-2)+"/"+t.getFullYear()}function FormatForInput(n){let t=new Date(n);return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()}function FormatForDisplayTime(n){let i=n.split(":"),t=i[0],r="AM",u=i[1];t>12&&(t=t-12,r="PM");return t+":"+u+" "+r}function GetUrlParameters(n){var t,i,e,f,r,u;if(n===undefined)return t=window.location.href,i=t.lastIndexOf("/"),i>0&&t.length-1!==i?t.substring(i+1):0;for(n=n.toLowerCase(),e=window.location.search.substring(1),f=e.split("&"),u=0;u<f.length;u++)if(r=f[u].split("="),r[0].toLowerCase()===n)return r[1]===undefined?!0:decodeURIComponent(r[1])}function SetUrlParameters(n,t){if(_.isEmpty(n))return!1;if(_.isEmpty(t))return n;var i=t.join("&");return n.indexOf("?")>-1?n+"&"+i:n+"?"+i}function CurrencyFormat(n){let t=parseFloat(n),u=!1;isNaN(t)&&(t=0);t<0&&(t=Math.abs(t),u=!0);n=t.toFixed(2);let i=0,r="";if(n.indexOf(".")>-1&&(r=n.substring(n.indexOf(".")),n=n.substring(0,n.indexOf("."))),n.length>3){let t=n.substring(n.length-3),u=n.substring(0,n.length-3);i=u.replace(/(\d)(?=(\d{2})+(?!\d))/g,"$1,")+(","+t+r)}else i=n+r;return u?"-"+i:i}function CurrencyUnFormat(n){return n=n.replace(/,/g,""),$.isNumeric(n)?parseFloat(n):NaN}function NumberFormat(n){let i=parseInt(n);n=isNaN(i)?0:i.toString();let t=0;if(n.length>3){let i=n.substring(n.length-3),r=n.substring(0,n.length-3);return t=r.replace(/(\d)(?=(\d{2})+(?!\d))/g,"$1,"),t+=","+i}return n}function GetClientLocalIP(n){window.RTCPeerConnection=window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection;var t=new RTCPeerConnection({iceServers:[]}),i=function(){};t.createDataChannel("");t.createOffer().then(function(n){return t.setLocalDescription(n)});t.onicecandidate=function(r){if(r&&r.candidate&&r.candidate.candidate){var u=/([0-9]{1,3}(\.[0-9]{1,3}){3}|[a-f0-9]{1,4}(:[a-f0-9]{1,4}){7})/.exec(r.candidate.candidate)[1];n(u);t.onicecandidate=i}}}function StatusNotify(n,t){new PNotify({title:n,text:t,nonblock:{nonblock:!0},type:n,addclass:n==="success"?"bg-success":"bg-danger",closer:!0,closer_hover:!0,sticker:!0,sticker_hover:!0})}function toCamel(n){var r,i,u,t;if(n instanceof Array)return n.map(function(n){return typeof n=="object"&&(n=toCamel(n)),n});r={};for(i in n)n.hasOwnProperty(i)&&(u=(i.charAt(0).toLowerCase()+i.slice(1)||i).toString(),t=n[i],(t instanceof Array||t!==null&&t.constructor===Object)&&(t=toCamel(t)),r[u]=t);return r}function CalcGridHeight(){var n=$(window).height();return n-212}function PageSlimScroll(){var n=$(window).height();$("body").mCustomScrollbar({axis:"y",autoHideScrollbar:!1,scrollInertia:100,theme:"minimal"})}function toggleFullScreen(){var n=$(window).height()-10;document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement?document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen():document.documentElement.requestFullscreen?document.documentElement.requestFullscreen():document.documentElement.mozRequestFullScreen?document.documentElement.mozRequestFullScreen():document.documentElement.webkitRequestFullscreen&&document.documentElement.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}Mousetrap.addKeycodes({19:"pause"});Mousetrap.bindGlobal("ctrl+alt+i",function(n){n.preventDefault();n.stopPropagation();window.location=window.location.origin+"/SalesInvoice/Landing"});Mousetrap.bindGlobal("ctrl+alt+t",function(n){n.preventDefault();n.stopPropagation();window.location=window.location.origin+"/SalesInvoice/Landing?mode=tax"});Mousetrap.bindGlobal("ctrl+alt+c",function(n){n.preventDefault();n.stopPropagation();window.location=window.location.origin+"/CreditNote"});Mousetrap.bindGlobal("ctrl+f1",function(n){n.preventDefault();n.stopPropagation();window.location=window.location.origin+"/Settings/Shortcuts"});$.fn.pcodedmenu=function(n){var t=this.attr("id"),i;n=$.extend({},{themelayout:"vertical",MenuTrigger:"click",SubMenuTrigger:"click",activeMenuClass:"active",ThemeBackgroundPattern:"pattern6",HeaderBackground:"theme4",LHeaderBackground:"theme4",NavbarBackground:"theme4",ActiveItemBackground:"theme0",SubItemBackground:"theme4",ActiveItemStyle:"style0",ItemBorder:!0,ItemBorderStyle:"solid",SubItemBorder:!0,DropDownIconStyle:"style1",FixedNavbarPosition:!1,FixedHeaderPosition:!1,horizontalMenuplacement:"top",horizontalMenulayout:"widebox",horizontalBrandItem:!0,horizontalLeftNavItem:!0,horizontalRightItem:!1,horizontalSearchItem:!1,horizontalBrandItemAlign:"left",horizontalLeftNavItemAlign:"right",horizontalRightItemAlign:"right",horizontalsearchItemAlign:"right",horizontalstickynavigation:!1,horizontalNavigationView:"view1",horizontalNavIsCentered:!1,horizontalNavigationMenuIcon:!0,verticalMenuplacement:"left",verticalMenulayout:"wide",collapseVerticalLeftHeader:!0,VerticalSubMenuItemIconStyle:"style6",VerticalNavigationView:"view1",verticalMenueffect:{desktop:"shrink",tablet:"push",phone:"overlay"},defaultVerticalMenu:{desktop:"expanded",tablet:"collapsed",phone:"offcanvas"},onToggleVerticalMenu:{desktop:"collapsed",tablet:"expanded",phone:"expanded"}},n);$.cookie("defaultVerticalMenu.desktop")!==undefined&&(n.defaultVerticalMenu.desktop=$.cookie("defaultVerticalMenu.desktop"));i={PcodedMenuInit:function(){i.Handlethemelayout();i.HandleverticalMenuplacement();i.HandlehorizontalMenuplacement();i.HandleMenulayout();i.HandleDeviceType();i.Handlecomponetheight();i.HandleMenuOnClick();i.HandleMenuTrigger();i.HandleSubMenuTrigger();i.HandleActiveItem();i.HandleOffcanvasMenu();i.HandleVerticalLeftHeader();i.HandleThemeBackground();i.HandleActiveItemStyle();i.HandleItemBorder();i.HandleBorderStyle();i.HandleSubItemBorder();i.HandleDropDownIconStyle();i.HandleOptionSelectorPanel();i.HandleNavbarPosition();i.HandleVerticalSubMenuItemIconStyle();i.HandleVerticalNavigationView();i.HandleHorizontalItemIsCentered();i.HandleHorizontalItemAlignment();i.HandleSubMenuOffset();i.HandleHorizontalStickyNavigation();i.HandleDocumentClickEvent();i.HandleVerticalScrollbar();i.HandleHorizontalMobileMenuToggle();i.horizontalNavigationMenuIcon();i.verticalNavigationSearchBar();i.safariBrowsercompatibility();i.HandleSidebarToggle()},safariBrowsercompatibility:function(){var t=navigator.userAgent.indexOf("Chrome")>-1,u=navigator.userAgent.indexOf("MSIE")>-1,f=navigator.userAgent.indexOf("Firefox")>-1,n=navigator.userAgent.indexOf("Safari")>-1,e=navigator.userAgent.indexOf("Presto")>-1,i=navigator.userAgent.indexOf("Mac OS")!=-1,r=!i;t&&n&&(n=!1);n||r},verticalNavigationSearchBar:function(){if(n.themelayout==="vertical")$(".searchbar-toggle").on("click",function(){$(this).parent(".pcoded-search").toggleClass("open")})},horizontalNavigationMenuIcon:function(){if(n.themelayout==="horizontal")switch(n.horizontalNavigationMenuIcon){case!1:$("#"+t+".pcoded .pcoded-navbar .pcoded-item > li > a .pcoded-micon").hide();$("#"+t+".pcoded .pcoded-navbar .pcoded-item.pcoded-search-item > li > a .pcoded-micon").show()}},HandleSidebarToggle:function(){var r=$("#"+t).attr("pcoded-device-type");r==="desktop"?($("#"+t).attr("vertical-nav-type",n.defaultVerticalMenu.desktop),n.onToggleVerticalMenu.desktop=i.GetToggleVerticalMenu(r,n.defaultVerticalMenu.desktop)):r=="tablet"?($("#"+t).attr("vertical-nav-type",n.defaultVerticalMenu.tablet),n.onToggleVerticalMenu.tablet=i.GetToggleVerticalMenu(r,n.defaultVerticalMenu.tablet)):r=="phone"&&($("#"+t).attr("vertical-nav-type",n.defaultVerticalMenu.phone),n.onToggleVerticalMenu.phone=i.GetToggleVerticalMenu(r,n.defaultVerticalMenu.phone))},HandleHorizontalMobileMenuToggle:function(){if(n.themelayout==="horizontal")$("#mobile-collapse").on("click",function(){$(".pcoded-navbar").toggleClass("show-menu")})},HandleVerticalScrollbar:function(){var t,i;if(n.themelayout==="vertical"&&(t=n.defaultVerticalMenu.desktop,t==="expanded"||t==="compact")){if(i=n.MenuTrigger,i==="click")$(window).on("load",function(){$(".sidebar_toggle a").click(function(n){n.preventDefault();var t=$(this);rel=t.attr("rel");el=$(".pcoded-navbar");el.hasClass("mCS_destroyed")?el.mCustomScrollbar({axis:"y",autoHideScrollbar:!1,scrollInertia:100,theme:"minimal"}):el.mCustomScrollbar("destroy")})});$(".main-menu").mCustomScrollbar({axis:"y",autoHideScrollbar:!1,scrollInertia:100,theme:"minimal"})}},HandleDocumentClickEvent:function(){function n(){$(document).on("click",function(n){var i=$(n.target),r=$("#"+t).attr("pcoded-device-type"),u=$("#"+t).attr("vertical-nav-type"),f=$("#"+t+" .pcoded-item li");i.parents(".pcoded-item").length||r!="phone"&&u!="expanded"&&f.removeClass("pcoded-trigger")})}function i(){$(document).on("click",function(n){var i=$(n.target),r=$("#"+t+" .pcoded-search");i.parents(".pcoded-search").length||r.removeClass("open")})}n();i()},HandleHorizontalStickyNavigation:function(){switch(n.horizontalstickynavigation){case!0:$(window).on("scroll",function(){var n=$(this).scrollTop();n>=100?($(".pcoded-navbar").addClass("stickybar"),$("stickybar").fadeIn(3e3)):n<=100&&($(".pcoded-navbar").removeClass("stickybar"),$(".stickybar").fadeOut(3e3))});break;case!1:$(".pcoded-navbar").removeClass("stickybar")}},HandleSubMenuOffset:function(){switch(n.themelayout){case"horizontal":var t=n.SubMenuTrigger;if(t==="hover")$("li.pcoded-hasmenu").on("mouseenter mouseleave",function(){if($(".pcoded-submenu",this).length){var n=$(".pcoded-submenu:first",this),t=n.offset(),i=t.left,r=n.width(),e=$(window).height(),u=$(window).width(),f=i+r<=u;f?$(this).removeClass("edge"):$(this).addClass("edge")}});else $("li.pcoded-hasmenu").on("click",function(n){if(n.preventDefault(),$(".pcoded-submenu",this).length){var t=$(".pcoded-submenu:first",this),i=t.offset(),r=i.left,u=t.width(),o=$(window).height(),f=$(window).width(),e=r+u<=f;e||$(this).toggleClass("edge")}})}},HandleHorizontalItemIsCentered:function(){if(n.themelayout==="horizontal")switch(n.horizontalNavIsCentered){case!0:$("#"+t+" .pcoded-navbar").addClass("isCentered");break;case!1:$("#"+t+" .pcoded-navbar").removeClass("isCentered")}},HandleHorizontalItemAlignment:function(){var i=n.themelayout;if(i==="horizontal"){function i(){var i=$("#"+t+".pcoded .pcoded-navbar .pcoded-brand");if(n.horizontalBrandItem===!0)switch(n.horizontalBrandItemAlign){case"left":i.removeClass("pcoded-right-align");i.addClass("pcoded-left-align");break;case"right":i.removeClass("pcoded-left-align");i.addClass("pcoded-right-align")}else i.hide()}function r(){var i=$("#"+t+".pcoded .pcoded-navbar .pcoded-item.pcoded-left-item");if(n.horizontalLeftNavItem===!0)switch(n.horizontalLeftNavItemAlign){case"left":i.removeClass("pcoded-right-align");i.addClass("pcoded-left-align");break;case"right":i.removeClass("pcoded-left-align");i.addClass("pcoded-right-align")}else i.hide()}function u(){var i=$("#"+t+".pcoded .pcoded-navbar .pcoded-item.pcoded-right-item");if(n.horizontalRightItem===!0)switch(n.horizontalRightItemAlign){case"left":i.removeClass("pcoded-right-align");i.addClass("pcoded-left-align");break;case"right":i.removeClass("pcoded-left-align");i.addClass("pcoded-right-align")}else i.hide()}function f(){var i=$("#"+t+".pcoded .pcoded-navbar .pcoded-search-item");if(n.horizontalSearchItem===!0)switch(n.horizontalsearchItemAlign){case"left":i.removeClass("pcoded-right-align");i.addClass("pcoded-left-align");break;case"right":i.removeClass("pcoded-left-align");i.addClass("pcoded-right-align")}else i.hide()}n.horizontalNavIsCentered===!1&&(i(),r(),u(),f())}},HandleVerticalNavigationView:function(){var i;switch(n.themelayout){case"vertical":i=n.VerticalNavigationView;$("#"+t+".pcoded").attr("vnavigation-view",i);break;case"horizontal":i=n.horizontalNavigationView;$("#"+t+".pcoded").attr("hnavigation-view",i)}},HandleVerticalSubMenuItemIconStyle:function(){switch(n.themelayout){case"vertical":var i=n.VerticalSubMenuItemIconStyle;$("#"+t+" .pcoded-navbar .pcoded-hasmenu").attr("subitem-icon",i);break;case"horizontal":$("#"+t+" .pcoded-navbar .pcoded-hasmenu").attr("subitem-icon",i)}},HandleNavbarPosition:function(){var i=n.FixedNavbarPosition,r=n.FixedHeaderPosition,u=n.FixedRightHeaderPosition;switch(n.themelayout){case"vertical":i==!0?$("#"+t+" .pcoded-navbar").attr("pcoded-navbar-position","fixed"):$("#"+t+" .pcoded-navbar").attr("pcoded-navbar-position","absolute");r==!0?($("#"+t+" .pcoded-header").attr("pcoded-header-position","fixed"),$("#"+t+" .pcoded-navbar").attr("pcoded-header-position","fixed"),$("#"+t+" .pcoded-main-container").css("margin-top",$(".pcoded-header").outerHeight())):($("#"+t+" .pcoded-header").attr("pcoded-header-position","relative"),$("#"+t+" .pcoded-navbar").attr("pcoded-header-position","relative"),$("#"+t+" .pcoded-main-container").css("margin-top","0px"));break;case"horizontal":i==!0?$("#"+t+" .pcoded-navbar").attr("pcoded-navbar-position","fixed"):$("#"+t+" .pcoded-navbar").attr("pcoded-navbar-position","relative");r==!0?($("#"+t+" .pcoded-header").attr("pcoded-header-position","fixed"),$("#"+t+" .pcoded-navbar").attr("pcoded-header-position","fixed"),$("#"+t+" .pcoded-main-container").css("margin-top",$(".pcoded-header").outerHeight())):($("#"+t+" .pcoded-header").attr("pcoded-header-position","relative"),$("#"+t+" .pcoded-navbar").attr("pcoded-header-position","relative"),$("#"+t+" .pcoded-main-container").css("margin-top","0px"))}},HandleOptionSelectorPanel:function(){$(".selector-toggle > a").on("click",function(){$("#styleSelector").toggleClass("open")})},HandleDropDownIconStyle:function(){var i=n.DropDownIconStyle;switch(n.themelayout){case"vertical":$("#"+t+" .pcoded-navbar .pcoded-hasmenu").attr("dropdown-icon",i);break;case"horizontal":$("#"+t+" .pcoded-navbar .pcoded-hasmenu").attr("dropdown-icon",i)}},HandleSubItemBorder:function(){switch(n.SubItemBorder){case!0:$("#"+t+" .pcoded-navbar .pcoded-item").attr("subitem-border","true");break;case!1:$("#"+t+" .pcoded-navbar .pcoded-item").attr("subitem-border","false")}},HandleBorderStyle:function(){var i=n.ItemBorderStyle;switch(n.ItemBorder){case!0:$("#"+t+" .pcoded-navbar .pcoded-item").attr("item-border-style",i);break;case!1:$("#"+t+" .pcoded-navbar .pcoded-item").attr("item-border-style","")}},HandleItemBorder:function(){switch(n.ItemBorder){case!0:$("#"+t+" .pcoded-navbar .pcoded-item").attr("item-border","true");break;case!1:$("#"+t+" .pcoded-navbar .pcoded-item").attr("item-border","false")}},HandleActiveItemStyle:function(){var i=n.ActiveItemStyle;i!=undefined&&i!=""?$("#"+t+" .pcoded-navbar").attr("active-item-style",i):$("#"+t+" .pcoded-navbar").attr("active-item-style","style0")},HandleThemeBackground:function(){function i(){var t=n.ThemeBackgroundPattern;t!=undefined&&t!=""?$("body").attr("themebg-pattern",t):$("body").attr("themebg-pattern","pattern1")}function r(){var i=n.HeaderBackground;i!=undefined&&i!=""?$("#"+t+" .pcoded-header").attr("header-theme",i):$("#"+t+" .pcoded-header").attr("header-theme","theme1")}function u(){var i=n.LHeaderBackground;i!=undefined&&i!=""?$("#"+t+" .pcoded-navigatio-lavel").attr("menu-title-theme",i):$("#"+t+" .pcoded-navigatio-lavel").attr("menu-title-theme","theme1")}function f(){var i=n.NavbarBackground;i!=undefined&&i!=""?($("#"+t+" .pcoded-navbar").attr("data-navbar-theme",i),$("#"+t+" .navbar-logo").attr("data-navbar-theme",i)):($("#"+t+" .pcoded-navbar").attr("data-navbar-theme","theme1"),$("#"+t+" .navbar-logo").attr("data-navbar-theme","theme1"))}function e(){var i=n.ActiveItemBackground;i!=undefined&&i!=""?$("#"+t+" .pcoded-navbar").attr("active-item-theme",i):$("#"+t+" .pcoded-navbar").attr("active-item-theme","theme1")}function o(){var i=n.SubItemBackground;i!=undefined&&i!=""?$("#"+t+" .pcoded-navbar").attr("sub-item-theme",i):$("#"+t+" .pcoded-navbar").attr("sub-item-theme","theme1")}i();r();u();f();e();o()},HandleVerticalLeftHeader:function(){if(n.themelayout==="vertical")switch(n.collapseVerticalLeftHeader){case!0:$("#"+t+" .pcoded-header").addClass("iscollapsed");$("#"+t+" .pcoded-header").removeClass("nocollapsed");$("#"+t+".pcoded").addClass("iscollapsed");$("#"+t+".pcoded").removeClass("nocollapsed");break;case!1:$("#"+t+" .pcoded-header").removeClass("iscollapsed");$("#"+t+" .pcoded-header").addClass("nocollapsed");$("#"+t+".pcoded").removeClass("iscollapsed");$("#"+t+".pcoded").addClass("nocollapsed")}else return!1},HandleOffcanvasMenu:function(){if(n.themelayout==="vertical"){var i=$("#"+t).attr("vertical-nav-type");i=="offcanvas"&&$("#"+t).attr("vertical-layout","wide")}},HandleActiveItem:function(){},HandleSubMenuTrigger:function(){switch(n.SubMenuTrigger){case"hover":$("#"+t+" .pcoded-navbar .pcoded-hasmenu").addClass("is-hover");var r=$(window),f=$(".pcoded-submenu > li"),u=r.width(),i="";u>=767?n("hover"):n("click");r.resize(function(){var t=r.width();u!=t&&(t>=767&&i!="hover"?n("hover"):t<767&&i!="click"&&n("click"),u=t)});function n(n){if(n=="hover")i=n,f.off("click").off("mouseenter mouseleave").hover(function(){$(this).addClass("pcoded-trigger")},function(){$(this).removeClass("pcoded-trigger")});else if(n=="click"){i=n;f.off("mouseenter mouseleave").off("click").on("click",function(n){n.stopPropagation();var t=$(this).closest(".pcoded-submenu").length;t===0?$(this).hasClass("pcoded-trigger")?$(this).removeClass("pcoded-trigger"):($(this).closest(".pcoded-inner-navbar").find("li.pcoded-trigger").removeClass("pcoded-trigger"),$(this).addClass("pcoded-trigger")):$(this).hasClass("pcoded-trigger")?$(this).removeClass("pcoded-trigger"):($(this).closest(".pcoded-submenu").find("li.pcoded-trigger").removeClass("pcoded-trigger"),$(this).addClass("pcoded-trigger"))})}}break;case"click":$("#"+t+" .pcoded-navbar .pcoded-hasmenu").removeClass("is-hover");$(".pcoded-submenu > li").on("click",function(n){n.stopPropagation();var t=$(this).closest(".pcoded-submenu").length;t===0?$(this).hasClass("pcoded-trigger")?$(this).removeClass("pcoded-trigger"):($(this).closest(".pcoded-inner-navbar").find("li.pcoded-trigger").removeClass("pcoded-trigger"),$(this).addClass("pcoded-trigger")):$(this).hasClass("pcoded-trigger")?$(this).removeClass("pcoded-trigger"):($(this).closest(".pcoded-submenu").find("li.pcoded-trigger").removeClass("pcoded-trigger"),$(this).addClass("pcoded-trigger"))})}},HandleMenuTrigger:function(){switch(n.MenuTrigger){case"hover":$("#"+t+" .pcoded-navbar").addClass("is-hover");var r=$(window),f=$(".pcoded-item > li"),u=r.width(),i="";u>=767?n("hover"):n("click");r.resize(function(){var t=r.width();u!=t&&(t>=767&&i!="hover"?n("hover"):t<767&&i!="click"&&n("click"),u=t)});function n(n){if(n=="hover")i=n,f.off("click").off("mouseenter mouseleave").hover(function(){$(this).addClass("pcoded-trigger")},function(){$(this).removeClass("pcoded-trigger")});else if(n=="click"){i=n;f.off("mouseenter mouseleave").off("click").on("click",function(){$(this).hasClass("pcoded-trigger")?$(this).removeClass("pcoded-trigger"):($(this).closest(".pcoded-inner-navbar").find("li.pcoded-trigger").removeClass("pcoded-trigger"),$(this).addClass("pcoded-trigger"))})}}break;case"click":$("#"+t+" .pcoded-navbar").removeClass("is-hover");$(".pcoded-item > li ").on("click",function(){$(this).hasClass("pcoded-trigger")?$(this).removeClass("pcoded-trigger"):($(this).closest(".pcoded-inner-navbar").find("li.pcoded-trigger").removeClass("pcoded-trigger"),$(this).addClass("pcoded-trigger"))})}},HandleMenuOnClick:function(){var i=$(window)[0].innerWidth;if(n.themelayout==="vertical")$("#mobile-collapse,.sidebar_toggle a, .pcoded-overlay-box,.menu-toggle a").on("click",function(){var r;if($(this).parent().find(".menu-icon").toggleClass("is-clicked"),r=$("#"+t).attr("pcoded-device-type"),console.log("-->"+r),r=="desktop"){var u=n.onToggleVerticalMenu.desktop,f=n.defaultVerticalMenu.desktop,i=$("#"+t).attr("vertical-nav-type");if(i==f)$("#"+t).attr("vertical-nav-type",u),$.cookie("defaultVerticalMenu.desktop",u),$.cookie("onToggleVerticalMenu.desktop",i);else if(i==u)$("#"+t).attr("vertical-nav-type",f),$.cookie("defaultVerticalMenu.desktop",f),$.cookie("onToggleVerticalMenu.desktop",i);else return!1}else if(r=="tablet"){var s=n.onToggleVerticalMenu.tablet,e=n.defaultVerticalMenu.tablet,h=$("#"+t).attr("vertical-nav-type");h==e?$("#"+t).attr("vertical-nav-type",s):i==u&&$("#"+t).attr("vertical-nav-type",e)}else if(r=="phone"){var c=n.onToggleVerticalMenu.phone,o=n.defaultVerticalMenu.phone,l=$("#"+t).attr("vertical-nav-type");l==o?$("#"+t).attr("vertical-nav-type",c):i==u&&$("#"+t).attr("vertical-nav-type",o)}$(".pcoded").addClass("pcoded-toggle-animate");setTimeout(function(){$(".pcoded").removeClass("pcoded-toggle-animate")},250)});else n.themelayout==="horizontal"&&(i>=768&&i<=1024?$("#"+t).attr("pcoded-device-type","tablet"):i<768?$("#"+t).attr("pcoded-device-type","phone"):$("#"+t).attr("pcoded-device-type","desktop"))},Handlecomponetheight:function(){function n(){var n=$(window).height(),t=$(".pcoded-header").innerHeight(),i=$(".pcoded-navbar").innerHeight(),r=$(".pcoded-footer").innerHeight(),u=n-t,f=n-t,e=n-t}n();$(window).resize(function(){n()})},HandleDeviceType:function(){function i(){var u=$(window)[0].innerWidth,i,r;n.themelayout==="vertical"?u>=768&&u<=1024?($("#"+t).attr("pcoded-device-type","tablet"),i=n.defaultVerticalMenu.tablet,i!=undefined&&i!=""?$("#"+t).attr("vertical-nav-type",i):$("#"+t).attr("vertical-nav-type","collapsed"),r=n.verticalMenueffect.tablet,r!=undefined&&i!=""?$("#"+t).attr("vertical-effect",r):$("#"+t).attr("vertical-effect","shrink")):u<768?($("#"+t).attr("pcoded-device-type","phone"),i=n.defaultVerticalMenu.phone,i!=undefined&&i!=""?$("#"+t).attr("vertical-nav-type",i):$("#"+t).attr("vertical-nav-type","offcanvas"),r=n.verticalMenueffect.phone,r!=undefined&&i!=""?$("#"+t).attr("vertical-effect",r):$("#"+t).attr("vertical-effect","push")):($("#"+t).attr("pcoded-device-type","desktop"),i=n.defaultVerticalMenu.desktop,i!=undefined&&i!=""?$("#"+t).attr("vertical-nav-type",i):$("#"+t).attr("vertical-nav-type","expanded"),r=n.verticalMenueffect.desktop,r!=undefined&&i!=""?$("#"+t).attr("vertical-effect",r):$("#"+t).attr("vertical-effect","shrink")):n.themelayout==="horizontal"&&(u>=768&&u<=1024?$("#"+t).attr("pcoded-device-type","tablet"):u<768?$("#"+t).attr("pcoded-device-type","phone"):$("#"+t).attr("pcoded-device-type","desktop"))}i();$(window).resize(function(){var n=$(window)[0].innerWidth,r=$("#"+t).attr("pcoded-device-type");r=="desktop"&&n<1024?i():r=="phone"&&n>768?i():r=="tablet"&&n<768?i():r=="tablet"&&n>1024&&i()})},HandleMenulayout:function(){if(n.themelayout==="vertical")switch(n.verticalMenulayout){case"wide":$("#"+t).attr("vertical-layout","wide");break;case"box":$("#"+t).attr("vertical-layout","box");break;case"widebox":$("#"+t).attr("vertical-layout","widebox")}else if(n.themelayout==="horizontal")switch(n.horizontalMenulayout){case"wide":$("#"+t).attr("horizontal-layout","wide");break;case"box":$("#"+t).attr("horizontal-layout","box");break;case"widebox":$("#"+t).attr("horizontal-layout","widebox")}else return!1},HandlehorizontalMenuplacement:function(){if(n.themelayout==="horizontal")switch(n.horizontalMenuplacement){case"bottom":$("#"+t).attr("horizontal-placement","bottom");break;case"top":$("#"+t).attr("horizontal-placement","top")}else $("#"+t).removeAttr("horizontal-placement")},HandleverticalMenuplacement:function(){if(n.themelayout==="vertical")switch(n.verticalMenuplacement){case"left":$("#"+t).attr("vertical-placement","left");break;case"right":$("#"+t).attr("vertical-placement","right")}else $("#"+t).removeAttr("vertical-placement")},Handlethemelayout:function(){switch(n.themelayout){case"horizontal":$("#"+t).attr("theme-layout","horizontal");break;case"vertical":$("#"+t).attr("theme-layout","vertical")}},GetToggleVerticalMenu:function(n,t){if(n==="desktop"){if(t==="expanded")return"collapsed";if(t==="collapsed")return"expanded"}else if(n==="tablet"){if(t==="expanded")return"collapsed";if(t==="collapsed")return"expanded"}else if(n=="phone"){if(t==="expanded")return"offcanvas";if(t==="offcanvas")return"expanded"}}};i.PcodedMenuInit()};$(window).scroll(function(){$(this).scrollTop()>56?($('.pcoded[theme-layout="vertical"] .pcoded-navbar[pcoded-navbar-position="fixed"][pcoded-header-position="relative"]').css("position","fixed"),$('.pcoded[theme-layout="vertical"] .pcoded-navbar[pcoded-navbar-position="fixed"][pcoded-header-position="relative"]').css("top",0)):($('.pcoded[theme-layout="vertical"] .pcoded-navbar[pcoded-navbar-position="fixed"][pcoded-header-position="relative"]').css("position","relative"),$('.pcoded[theme-layout="vertical"] .pcoded-navbar[pcoded-navbar-position="fixed"][pcoded-header-position="relative"]').css("top","auto"))});$(window).scroll(function(){$(this).scrollTop()>50?($('.pcoded[theme-layout="horizontal"] .pcoded-navbar[pcoded-navbar-position="fixed"][pcoded-header-position="relative"]').css("position","fixed"),$('.pcoded[theme-layout="horizontal"] .pcoded-navbar[pcoded-navbar-position="fixed"][pcoded-header-position="relative"]').css("top",0)):($('.pcoded[theme-layout="horizontal"] .pcoded-navbar[pcoded-navbar-position="fixed"][pcoded-header-position="relative"]').css("position","relative"),$('.pcoded[theme-layout="horizontal"] .pcoded-navbar[pcoded-navbar-position="fixed"][pcoded-header-position="relative"]').css("top","auto"))});$(document).ready(function(){function n(){$(".theme-color > a.leftheader-theme").on("click",function(){var n=$(this).attr("lheader-theme");$(".pcoded-navigatio-lavel").attr("menu-title-theme",n)})}function t(){$(".theme-color > a.header-theme").on("click",function(){var n=$(this).attr("header-theme");$(".pcoded-header").attr("header-theme",n)})}function i(){$(".theme-color > a.data-navbar-theme").on("click",function(){var n=$(this).attr("data-navbar-theme");$(".pcoded-navbar").attr("data-navbar-theme",n);$(".navbar-logo").attr("data-navbar-theme",n)})}function r(){$(".theme-color > a.active-item-theme").on("click",function(){var n=$(this).attr("active-item-theme");$(".pcoded-navbar").attr("active-item-theme",n)})}function u(){$(".theme-color > a.sub-item-theme").on("click",function(){var n=$(this).attr("sub-item-theme");$(".pcoded-navbar").attr("sub-item-theme",n)})}function f(){$(".theme-color > a.themebg-pattern").on("click",function(){var n=$(this).attr("themebg-pattern");$("body").attr("themebg-pattern",n)})}function e(){$("#navigation-view").val("view1").on("change",function(n){n=$(this).val();$(".pcoded").attr("vnavigation-view",n)})}function o(){$("#theme-layout").val("wide").on("change",function(n){n=$(this).val();$(".pcoded").attr("vertical-layout",n)})}function s(){$("#vertical-menu-effect").val("shrink").on("change",function(n){n=$(this).val();$(".pcoded").attr("vertical-effect",n)})}function h(){$("#vertical-navbar-placement").val("left").on("change",function(n){n=$(this).val();$(".pcoded").attr("vertical-placement",n);$(".pcoded-navbar").attr("pcoded-navbar-position","absolute");$(".pcoded-header .pcoded-left-header").attr("pcoded-lheader-position","relative")})}function c(){$("#vertical-activeitem-style").val("style1").on("change",function(n){n=$(this).val();$(".pcoded-navbar").attr("active-item-style",n)})}function l(){$("#vertical-item-border").change(function(){$(this).is(":checked")?$(".pcoded-navbar .pcoded-item").attr("item-border","false"):$(".pcoded-navbar .pcoded-item").attr("item-border","true")})}function a(){$("#vertical-subitem-border").change(function(){$(this).is(":checked")?$(".pcoded-navbar .pcoded-item").attr("subitem-border","false"):$(".pcoded-navbar .pcoded-item").attr("subitem-border","true")})}function v(){$("#vertical-border-style").val("solid").on("change",function(n){n=$(this).val();$(".pcoded-navbar .pcoded-item").attr("item-border-style",n)})}function y(){$("#vertical-dropdown-icon").val("style1").on("change",function(n){n=$(this).val();$(".pcoded-navbar .pcoded-hasmenu").attr("dropdown-icon",n)})}function p(){$("#vertical-subitem-icon").val("style5").on("change",function(n){n=$(this).val();$(".pcoded-navbar .pcoded-hasmenu").attr("subitem-icon",n)})}function w(){$("#sidebar-position").change(function(){$(this).is(":checked")?($(".pcoded-navbar").attr("pcoded-navbar-position","fixed"),$(".pcoded-header .pcoded-left-header").attr("pcoded-lheader-position","fixed")):($(".pcoded-navbar").attr("pcoded-navbar-position","absolute"),$(".pcoded-header .pcoded-left-header").attr("pcoded-lheader-position","relative"))})}function b(){$("#header-position").change(function(){$(this).is(":checked")?($(".pcoded-header").attr("pcoded-header-position","fixed"),$(".pcoded-navbar").attr("pcoded-header-position","fixed"),$(".pcoded-main-container").css("margin-top",$(".pcoded-header").outerHeight())):($(".pcoded-header").attr("pcoded-header-position","relative"),$(".pcoded-navbar").attr("pcoded-header-position","relative"),$(".pcoded-main-container").css("margin-top","0px"))})}function k(){$("#collapse-left-header").change(function(){$(this).is(":checked")?($(".pcoded-header, .pcoded ").removeClass("iscollapsed"),$(".pcoded-header, .pcoded").addClass("nocollapsed")):($(".pcoded-header, .pcoded").addClass("iscollapsed"),$(".pcoded-header, .pcoded").removeClass("nocollapsed"))})}$("#pcoded").pcodedmenu({themelayout:"vertical",verticalMenuplacement:"left",verticalMenulayout:"wide",MenuTrigger:"click",SubMenuTrigger:"click",activeMenuClass:"active",ThemeBackgroundPattern:"pattern2",HeaderBackground:"theme1",LHeaderBackground:"theme5",NavbarBackground:"theme1",ActiveItemBackground:"theme5",SubItemBackground:"theme2",ActiveItemStyle:"style0",ItemBorder:!0,ItemBorderStyle:"none",SubItemBorder:!0,DropDownIconStyle:"style1",FixedNavbarPosition:!0,FixedHeaderPosition:!0,collapseVerticalLeftHeader:!0,VerticalSubMenuItemIconStyle:"style6",VerticalNavigationView:"view1",verticalMenueffect:{desktop:"shrink",tablet:"push",phone:"overlay"},defaultVerticalMenu:{desktop:"expanded",tablet:"collapsed",phone:"offcanvas"},onToggleVerticalMenu:{desktop:"collapsed",tablet:"expanded",phone:"expanded"}});n();t();i();r();u();f();e();o();s();h();c();l();a();v();y();p();w();b();k()});const printer=(()=>{let t=9,r=()=>{},u=(n,t)=>{n.invoiceData.trans_Type==="Sales"?f(n,t):n.copy!==undefined?(i(n,t),i(n,t)):i(n,t)},i=(i,r)=>{$.ajax({url:window.location.origin+"/Print/TaxInvoice",type:"GET",complete:function(u){if(u.status===200){let e=$(u.responseText).find("#printbody").html();var f=_.pluck(i.billData,"trans_Mode").join(", ");f===""&&(f=i.paymentMode);e=e.replace("{companyName}",i.storeData.companY_NAME||i.storeData.COMPANY_NAME);e=e.replace("{storeLocation}",i.storeData.address||i.storeData.ADDRESS);e=e.replace("{vatNumber}",i.storeData.vat||i.storeData.VAT);e=e.replace("{invoiceType}",i.copy!==undefined&&i.copy.printCount>=1?"INVOICE":"TAX INVOICE");e=e.replace("{copyName}",i.copy!==undefined&&i.copy.printCount>1?"(COPY OF ORIGINAL) ("+(i.copy.printCount-1).toString()+")":"");e=e.replace("{billNumber}",i.invoiceData.invoice_Number);e=e.replace("{dateAD}",FormatForDisplay(new Date(i.invoiceData.trans_Date_Ad)));e=e.replace("{dateBS}",i.invoiceData.trans_Date_Bs);e=e.replace(/{customerhide}/g,i.invoiceData.memberId==="POS"?"display-none":"");e=e.replace(/{addresshide}/g,_.isEmpty(i.invoiceData.customer_Address)?"display-none":"");e=e.replace(/{mobilehide}/g,_.isEmpty(i.invoiceData.customer_Mobile)?"display-none":"");e=e.replace("{billToName}",i.invoiceData.customer_Name);e=e.replace("{billToAddress}",i.invoiceData.customer_Address);e=e.replace("{billToMobile}",i.invoiceData.customer_Mobile);e=e.replace("{paymentMode}",f);e=e.replace("{totalGrossAmount}",parseFloat(i.invoiceData.total_Gross_Amount).toFixed(2));e=e.replace("{promoDiscount}",parseFloat(i.invoiceData.promoDiscount).toFixed(2));e=e.replace("{loyaltyDiscount}",parseFloat(i.invoiceData.membershipDiscount).toFixed(2));e=e.replace("{totalSaving}",parseFloat(i.invoiceData.total_Discount).toFixed(2));e=e.replace("{totalNetAmount}",parseFloat(i.invoiceData.total_Payable_Amount).toFixed(2));e=e.replace("{tenderAmount}",parseFloat(i.invoiceData.tender_Amount).toFixed(2));e=e.replace("{changeAmount}",parseFloat(i.invoiceData.change_Amount).toFixed(2));e=e.replace("{totalQuantity}",parseFloat(i.invoiceData.total_Quantity).toFixed(2));e=e.replace("{totalTaxableAmount}",parseFloat(i.invoiceData.taxableAmount).toFixed(2));e=e.replace("{totalNonTaxableAmount}",parseFloat(i.invoiceData.nonTaxableAmount).toFixed(2));e=e.replace("{totalVat}",parseFloat(i.invoiceData.total_Vat).toFixed(2));e=e.replace("{terminalName}",i.invoiceData.terminal);e=e.replace("{transTime}",FormatForDisplayTime(i.invoiceData.trans_Time));e=e.replace("{cashierName}",i.invoiceData.created_By);let s=$(u.responseText).find("#items").html(),o="";_.each(i.invoiceData.salesInvoiceItems,function(n,i){var r=s;r=r.replace("{ItemSN}",(i+1).toString());r=r.replace("{ItemName}",n.name.substring(0,t));r=r.replace("{ItemQuantity}",parseFloat(n.quantity).toFixed(2));r=r.replace("{ItemRate}",parseFloat(n.rate).toFixed(2));r=r.replace("{ItemPromoDiscount}",parseFloat(n.promoDiscount).toFixed(2));r=r.replace("{ItemTotal}",parseFloat(n.gross_Amount).toFixed(2));o+=r});n(e,o,r);$.ajax({url:window.location.origin+"/Print/UpdatePrintCount?invoiceNumber="+i.invoiceData.invoice_Number,type:"POST",complete:function(){}})}}})},f=(i,r)=>{$.ajax({url:window.location.origin+"/Print/SalesInvoice",type:"GET",complete:function(u){if(u.status===200){let e=$(u.responseText).find("#printbody").html();var f=_.pluck(i.billData,"trans_Mode").join(", ");f===""&&(f=i.paymentMode);e=e.replace("{companyName}",i.storeData.companY_NAME||i.storeData.COMPANY_NAME);e=e.replace("{storeLocation}",i.storeData.address||i.storeData.ADDRESS);e=e.replace("{vatNumber}",i.storeData.vat||i.storeData.VAT);e=e.replace("{invoiceType}","ABBREVIATED TAX INVOICE");e=e.replace("{copyName}",i.copy===undefined||i.copy.printCount===0?"":"(COPY OF ORIGINAL)");e=e.replace("{billNumber}",i.invoiceData.invoice_Number);e=e.replace("{dateAD}",FormatForDisplay(new Date(i.invoiceData.trans_Date_Ad)));e=e.replace("{dateBS}",i.invoiceData.trans_Date_Bs);e=e.replace(/{customerhide}/g,i.invoiceData.memberId==="POS"?"display-none":"");e=e.replace(/{addresshide}/g,_.isEmpty(i.invoiceData.customer_Address)?"display-none":"");e=e.replace(/{mobilehide}/g,_.isEmpty(i.invoiceData.customer_Mobile)?"display-none":"");e=e.replace("{billToName}",i.invoiceData.customer_Name);e=e.replace("{billToAddress}",i.invoiceData.customer_Address);e=e.replace("{billToMobile}",i.invoiceData.customer_Mobile);e=e.replace("{paymentMode}",f);e=e.replace("{totalGrossAmount}",parseFloat(i.invoiceData.total_Gross_Amount).toFixed(2));e=e.replace("{promoDiscount}",parseFloat(i.invoiceData.promoDiscount).toFixed(2));e=e.replace("{loyaltyDiscount}",parseFloat(i.invoiceData.membershipDiscount).toFixed(2));e=e.replace("{totalSaving}",parseFloat(i.invoiceData.total_Discount).toFixed(2));e=e.replace("{totalNetAmount}",parseFloat(i.invoiceData.total_Payable_Amount).toFixed(2));e=e.replace("{tenderAmount}",parseFloat(i.invoiceData.tender_Amount).toFixed(2));e=e.replace("{changeAmount}",parseFloat(i.invoiceData.change_Amount).toFixed(2));e=e.replace("{totalQuantity}",parseFloat(i.invoiceData.total_Quantity).toFixed(2));e=e.replace("{terminalName}",i.invoiceData.terminal);e=e.replace("{transTime}",FormatForDisplayTime(i.invoiceData.trans_Time));e=e.replace("{cashierName}",i.invoiceData.created_By);let s=$(u.responseText).find("#items").html(),o="";_.each(i.invoiceData.salesInvoiceItems,function(n,i){var r=s;r=r.replace("{ItemSN}",(i+1).toString());r=r.replace("{ItemName}",n.name.substring(0,t));r=r.replace("{ItemQuantity}",parseFloat(n.quantity).toFixed(2));r=r.replace("{ItemRate}",parseFloat(n.rate).toFixed(2));r=r.replace("{ItemPromoDiscount}",parseFloat(n.promoDiscount).toFixed(2));r=r.replace("{ItemTotal}",parseFloat(n.gross_Amount).toFixed(2));o+=r});n(e,o,r);$.ajax({url:window.location.origin+"/Print/UpdatePrintCount?invoiceNumber="+i.invoiceData.invoice_Number,type:"POST",complete:function(){}})}}})},e=(i,r)=>{$.ajax({url:window.location.origin+"/Print/CreditNote",type:"GET",complete:function(u){if(u.status===200){let e=$(u.responseText).find("#printbody").html();var f=_.pluck(i.billData,"trans_Mode").join(", ");f===""&&(f=i.paymentMode);e=e.replace("{companyName}",i.storeData.companY_NAME||i.storeData.COMPANY_NAME);e=e.replace("{storeLocation}",i.storeData.address||i.storeData.ADDRESS);e=e.replace("{vatNumber}",i.storeData.vat||i.storeData.VAT);e=e.replace("{invoiceType}","CREDIT NOTE");e=e.replace("{copyName}",i.copy===undefined||i.copy===!1?"":"(COPY OF ORIGINAL)");e=e.replace("{billNumber}",i.invoiceData.credit_Note_Number);e=e.replace("{billRefNumber}",i.invoiceData.reference_Number);e=e.replace("{dateAD}",FormatForDisplay(new Date(i.invoiceData.trans_Date_Ad)));e=e.replace("{dateBS}",i.invoiceData.trans_Date_Bs);e=e.replace(/{customerhide}/g,i.invoiceData.memberId==="POS"?"display-none":"");e=e.replace(/{addresshide}/g,_.isEmpty(i.invoiceData.customer_Address)?"display-none":"");e=e.replace(/{mobilehide}/g,_.isEmpty(i.invoiceData.customer_Mobile)?"display-none":"");e=e.replace("{billToName}",i.invoiceData.customer_Name);e=e.replace("{billToAddress}",i.invoiceData.customer_Address);e=e.replace("{billToMobile}",i.invoiceData.customer_Mobile);e=e.replace("{paymentMode}",i.invoiceData.payment_Mode);e=e.replace("{totalGrossAmount}",parseFloat(i.invoiceData.total_Gross_Amount).toFixed(2));e=e.replace("{promoDiscount}",parseFloat(i.invoiceData.promoDiscount).toFixed(2));e=e.replace("{loyaltyDiscount}",parseFloat(i.invoiceData.membershipDiscount).toFixed(2));e=e.replace("{totalTaxableAmount}",parseFloat(i.invoiceData.taxableAmount).toFixed(2));e=e.replace("{totalNonTaxableAmount}",parseFloat(i.invoiceData.nonTaxableAmount).toFixed(2));e=e.replace("{totalVat}",parseFloat(i.invoiceData.total_Vat).toFixed(2));e=e.replace("{Remarks}",i.invoiceData.credit_Note);e=e.replace("{totalNetAmount}",parseFloat(i.invoiceData.total_Net_Amount).toFixed(2));e=e.replace("{tenderAmount}",parseFloat(i.invoiceData.tender_Amount).toFixed(2));e=e.replace("{changeAmount}",parseFloat(i.invoiceData.change_Amount).toFixed(2));e=e.replace("{totalQuantity}",parseFloat(i.invoiceData.total_Quantity).toFixed(2));e=e.replace("{terminalName}",i.invoiceData.terminal);e=e.replace("{transTime}",FormatForDisplayTime(i.invoiceData.trans_Time));e=e.replace("{cashierName}",i.invoiceData.created_By);let s=$(u.responseText).find("#items").html(),o="";_.each(i.invoiceData.creditNoteItems,function(n,i){var r=s;r=r.replace("{ItemSN}",(i+1).toString());r=r.replace("{ItemName}",n.name.substring(0,t));r=r.replace("{ItemQuantity}",parseFloat(n.quantity).toFixed(2));r=r.replace("{ItemRate}",parseFloat(n.rate).toFixed(2));r=r.replace("{ItemPromoDiscount}",parseFloat(n.promoDiscount).toFixed(2));r=r.replace("{ItemTotal}",parseFloat(n.gross_Amount).toFixed(2));o+=r});n(e,o,r);$.ajax({url:window.location.origin+"/Print/UpdatePrintCount?invoiceNumber="+i.invoiceData.credit_Note_Number,type:"POST",complete:function(){}})}}})},o=(t,i)=>{$.ajax({url:window.location.origin+"/Print/Denomination",type:"GET",complete:function(r){if(r.status===200){let f=$(r.responseText).find("#printbody").html();f=f.replace("{companyName}",t.Store.COMPANY_NAME);f=f.replace("{storeLocation}",t.Store.ADDRESS);f=f.replace("{vatNumber}",t.Store.VAT);f=f.replace("{invoiceType}","DENOMINATION SLIP");f=f.replace("{copyName}","");f=f.replace("{dateAD}",FormatForDisplay(new Date(t.DenominationData.Date)));f=f.replace("{dateBS}",t.DenominationData.Date_BS);f=f.replace("{terminalName}",t.DenominationData.Terminal.Name);f=f.replace("{cashierName}",t.DenominationData.User_Id);f=f.replace("{cardHide}",t.DenominationData.Card!==null?"":"display-none");f=f.replace("{card}",parseFloat(t.DenominationData.Card).toFixed(2));f=f.replace("{creditHide}",t.DenominationData.Credit!==null?"":"display-none");f=f.replace("{credit}",parseFloat(t.DenominationData.Credit).toFixed(2));f=f.replace("{creditNoteHide}",t.DenominationData.CreditNote!==null?"":"display-none");f=f.replace("{creditNote}",parseFloat(t.DenominationData.CreditNote).toFixed(2));f=f.replace("{ICHide}",t.DenominationData.Ric!==null?"":"display-none");f=f.replace("{IC}",t.DenominationData.Ric);f=f.replace("{ICTotal}",(parseFloat(t.DenominationData.Ric)*1.6).toFixed(2));f=f.replace("{RS1000Hide}",t.DenominationData.R1000!==null?"":"display-none");f=f.replace("{RS1000}",t.DenominationData.R1000);f=f.replace("{RS1000Total}",(parseFloat(t.DenominationData.R1000)*1e3).toFixed(2));f=f.replace("{RS500Hide}",t.DenominationData.R500!==null?"":"display-none");f=f.replace("{RS500}",t.DenominationData.R500);f=f.replace("{RS500Total}",(parseFloat(t.DenominationData.R500)*500).toFixed(2));f=f.replace("{RS250Hide}",t.DenominationData.R250!==null?"":"display-none");f=f.replace("{RS250}",t.DenominationData.R250);f=f.replace("{RS250Total}",(parseFloat(t.DenominationData.R250)*250).toFixed(2));f=f.replace("{RS100Hide}",t.DenominationData.R100!==null?"":"display-none");f=f.replace("{RS100}",t.DenominationData.R100);f=f.replace("{RS100Total}",(parseFloat(t.DenominationData.R100)*100).toFixed(2));f=f.replace("{RS50Hide}",t.DenominationData.R50!==null?"":"display-none");f=f.replace("{RS50}",t.DenominationData.R50);f=f.replace("{RS50Total}",(parseFloat(t.DenominationData.R50)*50).toFixed(2));f=f.replace("{RS25Hide}",t.DenominationData.R25!==null?"":"display-none");f=f.replace("{RS25}",t.DenominationData.R25);f=f.replace("{RS25Total}",(parseFloat(t.DenominationData.R25)*25).toFixed(2));f=f.replace("{RS20Hide}",t.DenominationData.R20!==null?"":"display-none");f=f.replace("{RS20}",t.DenominationData.R20);f=f.replace("{RS20Total}",(parseFloat(t.DenominationData.R20)*20).toFixed(2));f=f.replace("{RS10Hide}",t.DenominationData.R10!==null?"":"display-none");f=f.replace("{RS10}",t.DenominationData.R10);f=f.replace("{RS10Total}",(parseFloat(t.DenominationData.R10)*10).toFixed(2));f=f.replace("{RS5Hide}",t.DenominationData.R5!==null?"":"display-none");f=f.replace("{RS5}",t.DenominationData.R5);f=f.replace("{RS5Total}",(parseFloat(t.DenominationData.R5)*5).toFixed(2));f=f.replace("{RS2Hide}",t.DenominationData.R2!==null?"":"display-none");f=f.replace("{RS2}",t.DenominationData.R2);f=f.replace("{RS2Total}",(parseFloat(t.DenominationData.R2)*2).toFixed(2));f=f.replace("{RS1Hide}",t.DenominationData.R1!==null?"":"display-none");f=f.replace("{RS1}",t.DenominationData.R1);f=f.replace("{RS1Total}",(parseFloat(t.DenominationData.R1)*1).toFixed(2));f=f.replace("{RS05Hide}",t.DenominationData.R05!==null?"":"display-none");f=f.replace("{RS05}",t.DenominationData.R05);f=f.replace("{RS05Total}",(parseFloat(t.DenominationData.R05)*.5).toFixed(2));var u=parseFloat(t.DenominationData.Total)+parseFloat(t.DenominationData.Card||0)+parseFloat(t.DenominationData.Credit||0)+parseFloat(t.DenominationData.CreditNote||0);f=f.replace("{GrandTotal}",u.toFixed(2));n(f,undefined,i)}}})},s=(t,i)=>{$.ajax({url:window.location.origin+"/Print/Settlement",type:"GET",complete:function(r){if(r.status===200){let a=$(r.responseText).find("#printbody").html();a=a.replace("{companyName}",t.store.companY_NAME);a=a.replace("{storeLocation}",t.store.address);a=a.replace("{vatNumber}",t.store.vat);a=a.replace("{invoiceType}","CASH SETTLEMENT MEMO");a=a.replace("{copyName}","");a=a.replace("{dateAD}",FormatForDisplay(new Date(t.settlementData[0].verifiedDate)));a=a.replace("{dateBS}",AD2BS(FormatForInput(new Date(t.settlementData[0].verifiedDate))));a=a.replace("{terminalName}",t.settlementData[0].terminalName);a=a.replace("{cashierName}",t.settlementData[0].userId);a=a.replace("{verifyBy}",t.settlementData[0].verifiedBy);a=a.replace("{openingBalance}","0.00");var s=_.sum(_.pluck(_.filter(t.settlementData,function(n){return n.paymentMode==="Cash"}),"totalAmount")),h=_.sum(_.pluck(_.filter(t.settlementData,function(n){return n.paymentMode==="Card"}),"totalAmount")),c=_.sum(_.pluck(_.filter(t.settlementData,function(n){return n.paymentMode==="Credit"}),"totalAmount")),l=_.sum(_.pluck(_.filter(t.settlementData,function(n){return n.paymentMode==="CreditNote"}),"totalAmount"));a=a.replace("{cashHide}",s!==undefined&&parseFloat(s)>0?"":"display-none");a=a.replace("{cash}",CurrencyFormat(s.toString()));a=a.replace("{cardHide}",h!==undefined&&parseFloat(h)>0?"":"display-none");a=a.replace("{card}",CurrencyFormat(h.toString()));a=a.replace("{creditHide}",c!==undefined&&parseFloat(c)>0?"":"display-none");a=a.replace("{credit}",CurrencyFormat(c.toString()));a=a.replace("{creditNoteHide}",l!==undefined&&parseFloat(l)>0?"":"display-none");a=a.replace("{creditNote}",CurrencyFormat(l.toString()));var u=_.filter(t.settlementData,function(n){return n.paymentMode==="Cash"})[0],f=_.filter(t.settlementData,function(n){return n.paymentMode==="Card"})[0],e=_.filter(t.settlementData,function(n){return n.paymentMode==="Credit"})[0],o=_.filter(t.settlementData,function(n){return n.paymentMode==="CreditNote"})[0];a=a.replace("{cashAdjHide}",u!==undefined&&parseFloat(u.adjustmentAmount)>0?"":"display-none");u!==undefined&&(a=a.replace("{cashAdj}",CurrencyFormat(u.adjustmentAmount.toString())));a=a.replace("{cardAdjHide}",f!==undefined&&parseFloat(f.adjustmentAmount)>0?"":"display-none");f!==undefined&&(a=a.replace("{cardAdj}",CurrencyFormat(f.adjustmentAmount.toString())));a=a.replace("{creditAdjHide}",e!==undefined&&parseFloat(e.adjustmentAmount)>0?"":"display-none");e!==undefined&&(a=a.replace("{creditAdj}",CurrencyFormat(e.adjustmentAmount.toString())));a=a.replace("{creditNoteAdjHide}",o!==undefined&&parseFloat(o.adjustmentAmount)>0?"":"display-none");o!==undefined&&(a=a.replace("{creditNoteAdj}",CurrencyFormat(o.adjustmentAmount.toString())));a=a.replace("{cashSEHide}",u!==undefined&&parseFloat(u.shortExcessAmount)!==0?"":"display-none");u!==undefined&&(a=a.replace("{cashShortExcess}",CurrencyFormat(u.shortExcessAmount.toString())));a=a.replace("{cardSEHide}",f!==undefined&&parseFloat(f.shortExcessAmount)!==0?"":"display-none");f!==undefined&&(a=a.replace("{cardShortExcess}",CurrencyFormat(f.shortExcessAmount.toString())));a=a.replace("{creditSEHide}",e!==undefined&&parseFloat(e.shortExcessAmount)!==0?"":"display-none");e!==undefined&&(a=a.replace("{creditShortExcess}",CurrencyFormat(e.shortExcessAmount.toString())));a=a.replace("{creditNoteSEHide}",o!==undefined&&parseFloat(o.shortExcessAmount)!==0?"":"display-none");o!==undefined&&(a=a.replace("{creditNoteShortExcess}",CurrencyFormat(o.shortExcessAmount.toString())));n(a,undefined,i)}}})},n=(n,t,i)=>{$(document.body).find(".main-body").append('<div id="tempprint" ><\/div>'),$("#tempprint").html(n),t!==undefined&&$("#tempprint").find("#items").html(t),printJS({printable:"tempprint",type:"html",targetStyles:["*"],onLoadingEnd:function(){$("#tempprint").remove();i!==undefined&&i()}})};return{init:r,PrintInvoice:u,PrintCreditNoteInvoice:e,PrintDenomination:o,PrintSettlement:s}})();printer.init();$.fn.serializeObject=function(){var n={},t=this.serializeArray();return $.each(t,function(){n[this.name]?(n[this.name].push||(n[this.name]=[n[this.name]]),n[this.name].push(this.value||"")):n[this.name]=this.value||""}),n};(()=>{$.ajax({method:"GET",url:"/Account/RoleWiseMenuPermission",dataType:"json",contentType:"application/json; charset=utf-8",complete:function(n){n.status===200&&_.each(n.responseJSON,function(n){$("."+n.menu.name.replace(/ /g,"_")).css("display","block !important");$("."+n.menu.name.replace(/ /g,"_")).show()})}})})();$(window).resize(function(){PageSlimScroll();$(".k-grid-content").height(CalcGridHeight()-15);$(".k-grid").height("auto")});$(document).on("click",'[data-toggle="lightbox"]',function(n){n.preventDefault();$(this).ekkoLightbox()});$(document).ready(function(){function f(){$(document).on("keypress",function(t){t.keyCode==116&&(n=!0)});$(document).on("click","a",function(){n=!0});$(document).on("submit","form",function(){n=!0});$(document).bind("click","input[type=submit]",function(){n=!0});$(document).bind("click","input[type=button]",function(){n=!0});$(document).bind("click","button[type=submit]",function(){n=!0})}function e(){window.onbeforeunload=function(){n||o()}}function o(){$.ajax({method:"POST",url:"/Account/BrowserClose",dataType:"json",contentType:"application/json; charset=utf-8"})}var s=$(window),i=$("body"),r=i[0].className,t,u,n;$(".main-menu").attr("id",r);t=$(window).height();$(".user-body").css("min-height",t);$(".card-header-right .icofont-close-circled").on("click",function(){var n=$(this);n.parents(".card").animate({opacity:"0","-webkit-transform":"scale3d(.3, .3, .3)",transform:"scale3d(.3, .3, .3)"});setTimeout(function(){n.parents(".card").remove()},800)});$(".card-header-right .icofont-rounded-down").on("click",function(){var n=$(this),t=$(n.parents(".card")),i=$(t).children(".card-block").slideToggle();$(this).toggleClass("icon-up").fadeIn("slow")});$(".icofont-refresh").on("mouseenter mouseleave",function(){$(this).toggleClass("rotate-refresh").fadeIn("slow")});$("#more-details").on("click",function(){$(".more-details").slideToggle(500)});$(".mobile-options").on("click",function(){$(".navbar-container .nav-right").slideToggle("slow")});u=$(window).height()-50;$(".theme-loader").fadeOut(300);n=!1;f();e()});